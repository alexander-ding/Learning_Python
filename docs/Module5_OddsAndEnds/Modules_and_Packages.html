

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="Topic: Understanding imports modules and packages, Difficulty: Easy, Category: Section" name="description" />
<meta content="custom package, module, script, import, setup, pip, conda, relative import, absolute import" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>导入：模组和包 &mdash; Python Like You Mean It</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-115029372-1"></script>
        <script src="../_static/gtag.js"></script>
        <script src="../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="prev" title="操作文件" href="WorkingWithFiles.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Python Like You Mean It
          

          
          </a>

          
            
            
              <div class="version">
                1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Python Like You Mean It</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_1.html">模组1：Python入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_2.html">模组2：Python基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_2_problems.html">模组2：题目</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_3.html">模组3：NumPy基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_3_problems.html">模组3：题目</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module_4.html">模组4：面向对象编程</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../module_5.html">模组5：琐碎话题</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Writing_Good_Code.html">编写好代码</a></li>
<li class="toctree-l2"><a class="reference internal" href="Matplotlib.html">Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="WorkingWithFiles.html">操作文件</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">导入：模组和包</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#模组">模组</a></li>
<li class="toctree-l3"><a class="reference internal" href="#导入语句">导入语句</a></li>
<li class="toctree-l3"><a class="reference internal" href="#包">包</a></li>
<li class="toctree-l3"><a class="reference internal" href="#模组内导入">模组内导入</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#绝对导入">绝对导入</a></li>
<li class="toctree-l4"><a class="reference internal" href="#相对导入">相对导入</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#安装包">安装包</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#PYTHONPATH和site-packages">PYTHONPATH和site-packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#安装你自己的Python包">安装你自己的Python包</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pip和conda：包管理器">pip和conda：包管理器</a></li>
<li class="toctree-l3"><a class="reference internal" href="#官方说明文档链接">官方说明文档链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="#阅读理解答案">阅读理解答案</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Python Like You Mean It</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../module_5.html">模组5：琐碎话题</a> &raquo;</li>
        
      <li>导入：模组和包</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Module5_OddsAndEnds/Modules_and_Packages.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="导入：模组和包">
<h1>导入：模组和包<a class="headerlink" href="#导入：模组和包" title="永久链接至标题">¶</a></h1>
<p>在之前学习Python和NumPy基础时，我们需要经常使用 <code class="docutils literal notranslate"><span class="pre">import</span></code> 语句。这允许我们访问标准库和NumPy提供的函数和对象。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 访问标准库中 `collections` 模组的 `defaultdict`</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="c1"># 导入整个numpy包并将给其代名词“np”</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</div>
<p>尽管我们经常食用 <code class="docutils literal notranslate"><span class="pre">import</span></code> 语句，我们到现在为止都还没有讨论它具体的运作细节。在这里，我们将给予其足够的注意力并讨论Python的导入系统，也就是代码被组织成模组（module）和包（package）的方法。模组是单独的 <code class="docutils literal notranslate"><span class="pre">.py</span></code> 文件，而我们可以从模组中导入函数和对象；包则是这些模组的集合。具体讨论这个包系统不仅仅将帮助我们理解标准库和其它Python代码集的组织方法，这也将允许我们创建我们自己的代码包。</p>
<p>作为本节的总结，我们将演示在系统安装一个Python包的过程；假设你编写了你自己的Python包，安装该包将允许你从系统的任何地方导入它。我们将会简短地讨论两个最常用的向全世界提供Python包储存和下载功能的服务：Python Package Index（PyPI）和 Anaconda.org。</p>
<p><a class="reference external" href="https://docs.python.org/3/tutorial/modules.html">官方Python教程</a>提供了很棒的有关本节材料的总结以及在这里没有讨论的细节。</p>
<div class="admonition warning">
<p class="admonition-title fa fa-exclamation-circle"><strong>自动重载</strong>：</p>
<p>当你在Jupyter记事本中跟随本节的操作时，请将以下代码包含在记事本的顶端：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>
<span class="o">%</span><span class="n">autoreload</span> <span class="mi">2</span>
</pre></div>
</div>
<p>执行这些“魔法命令”将会告知你的记事本在任何导入的模组和包被修改后重新导入它们。如果你不执行这些命令，你的记事本将不会“看到”你对已经导入的模组进行的修改，除非你重新启动该记事本的壳。</p>
</div>
<div class="section" id="模组">
<h2>模组<a class="headerlink" href="#模组" title="永久链接至标题">¶</a></h2>
<p>Python“模组”指包含函数定义和变量赋值语句的单个 <code class="docutils literal notranslate"><span class="pre">.py</span></code> 文件。导入一个模组将执行这些命令并通过被导入的模组使得命令产生的对象可以被访问。</p>
<p>让我们创建属于自己的模组并将其导入到一个互动式的Python进程中吧。在你计算机中的某个路径中打开一个Jupyter记事本或IPython命令行。使用<a class="reference external" href="http://cn.pythonlikeyoumeanit.com/Module1_GettingStartedWithPython/Getting_Started_With_IDEs_and_Notebooks.html#Integrated-Development-Environments">IDE</a>或简单的文本编辑器（不要用像Microsoft Word这样的软件！）在进程的路径中创建一个名为 <code class="docutils literal notranslate"><span class="pre">my_module.py</span></code> 的文本文件。<code class="docutils literal notranslate"><span class="pre">my_module.py</span></code> 的内容应为：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">我们的第一个Python模组。这个开头的字符串是模组级别的说明文档字符串（docstring）。</span>
<span class="sd">它并不是该模组必要的一部分，但它对描述你的模组的目的很有用。</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;I am being executed!&quot;</span><span class="p">)</span>

<span class="n">some_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">None</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">cube</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">3</span>
</pre></div>
</div>
<p>回到我们的互动式Python进程，我们可以将这个模组导入到该进程中。因为它就在当前的路径中，Python能够直接“找到”这个模组——我们会在之后对此多做讨论。导入 <code class="docutils literal notranslate"><span class="pre">my_module.py</span></code> 将会从上到下执行它所有的代码，并会创建一个名为 <code class="docutils literal notranslate"><span class="pre">my_module</span></code> 的Python对象；这是内置的 <code class="docutils literal notranslate"><span class="pre">module</span></code> 类型的一个实例。请注意，我们在导入语句中没有包含 <code class="docutils literal notranslate"><span class="pre">.py</span></code> 后缀。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span># 将 my_module 导入到我们的互动进程中
&gt;&gt;&gt; import my_module
I am being executed!

# 创建了一个模组类的实例对象
&gt;&gt;&gt; my_module
&lt;module &#39;my_module&#39; from &#39;usr/my_dir/my_module.py&#39;&gt;

&gt;&gt;&gt; type(my_module)
module
</pre></div>
</div>
<p>正如所料，导入我们的模组导致 <code class="docutils literal notranslate"><span class="pre">print</span></code> 语句被执行，因此 <code class="docutils literal notranslate"><span class="pre">'I</span> <span class="pre">am</span> <span class="pre">being</span> <span class="pre">executed!'</span></code> 被打印到了命令行中。然后，对象 <code class="docutils literal notranslate"><span class="pre">some_list</span></code>，<code class="docutils literal notranslate"><span class="pre">square</span></code>，和 <code class="docutils literal notranslate"><span class="pre">cube</span></code> 在剩余的代码被执行时也被定义了。<em>我们可以通过模组对象来访问它们</em>。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 我们可以通过模组对象访问模组中定义的所有变量</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">my_module</span><span class="o">.</span><span class="n">some_list</span>
<span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">None</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">my_module</span><span class="o">.</span><span class="n">square</span>
<span class="o">&lt;</span><span class="n">function</span> <span class="n">my_module</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">my_module</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="mi">4</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">my_module</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="mi">8</span>
</pre></div>
</div>
<p>你一定要理解这就是模组内容能够被导入它的环境访问的方法。知道这点后，了解模组的成员的一个好办法是使用IDE和互动命令行的<a class="reference external" href="http://cn.pythonlikeyoumeanit.com/Module1_GettingStartedWithPython/Informal_Intro_Python.html#Dabbling-with-Numbers">自动完成</a>功能来列出模组对象的所有属性。内置的 <code class="docutils literal notranslate"><span class="pre">help</span></code> 函数可以用来总结模组的内容：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">my_module</span><span class="p">)</span>
<span class="go">Help on module my_module:</span>

<span class="go">NAME</span>
<span class="go">    my_module</span>

<span class="go">DESCRIPTION</span>
<span class="go">    我们的第一个Python模组。这个开头的字符串是模组级别的说明文档字符串（docstring）。</span>
<span class="go">    它并不是该模组必要的一部分，但它对描述你的模组的目的很有用。</span>

<span class="go">FUNCTIONS</span>
<span class="go">    cube(x)</span>

<span class="go">    square(x)</span>

<span class="go">DATA</span>
<span class="go">    some_list = [&#39;a&#39;, 1, None]</span>

<span class="go">FILE</span>
<span class="go">    c:\users\ryan soklaski\desktop\learning_python\python\module5_oddsandends\my_module.py</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title fa fa-exclamation-circle"><strong>经验</strong>：</p>
<p>模组仅仅是一个包含.py后缀的文本文件，其内容为Python代码。你可以在互动命令行环境（如Jupyter记事本）或另外一个模组中导入模组。导入模组会执行模组的代码并创建一个模组类型的对象实例。任何在导入时赋值的变量都被绑定到这个模组对象上。</p>
</div>
<div class="admonition note">
<p class="admonition-title fa fa-exclamation-circle"><strong>阅读理解：创建简单模组</strong></p>
<p>创建一个名为 <code class="docutils literal notranslate"><span class="pre">basic_math.py</span></code> 的简单数学模组。它应该提供无理数 <span class="math notranslate nohighlight">\(\pi\)</span> 和 <span class="math notranslate nohighlight">\(e\)</span>，以及函数 <code class="docutils literal notranslate"><span class="pre">deg_to_rad</span></code>，其将角度数转化成弧度数。</p>
<p>然后，导入这个模组，计算 <span class="math notranslate nohighlight">\(e^{i\pi}\)</span>，并将45度转化为对应的弧度。</p>
</div>
</div>
<div class="section" id="导入语句">
<h2>导入语句<a class="headerlink" href="#导入语句" title="永久链接至标题">¶</a></h2>
<p>Python提供了导入模组和具体模组成员的灵活框架。我们已经在关于NumPy的讨论中见到了我们可以在导入语句提供一个<em>代名词</em>（alias）这一点；这在导入长名字的模组时非常方便：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># NumPy的模组对象由名为 `np` 的变量代表</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">])</span>
<span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">])</span>
</pre></div>
</div>
<p>一般而言，我们可以如此为导入的模组设置代名词：<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;module_name&gt;</span> <span class="pre">as</span> <span class="pre">&lt;alias_name&gt;</span></code>。</p>
<p>然后，语法 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;module_name&gt;</span> <span class="pre">import</span> <span class="pre">&lt;thing1&gt;,</span> <span class="pre">&lt;thing2&gt;,</span> <span class="pre">...</span></code> 允许我们从模组导入具体的对象，而不是整个模组。让我们从 <code class="docutils literal notranslate"><span class="pre">basic_module.py</span></code> 导入 <code class="docutils literal notranslate"><span class="pre">square</span></code> 和 <code class="docutils literal notranslate"><span class="pre">some_list</span></code>：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">square</span><span class="p">,</span> <span class="n">some_list</span>
<span class="go">I am being executed!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">some_list</span>
<span class="go">[&#39;a&#39;, 1, None]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>请注意，模组依然整个被执行，但是与其创建模组实例 <code class="docutils literal notranslate"><span class="pre">my_module</span></code>，这个导入语句仅仅返回了模组中定义的对象中在我们导入语句中提供名字的那些。</p>
<p>最后，你可以提供 <code class="docutils literal notranslate"><span class="pre">*</span></code> 来代表模组的所有属性。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入 `my_module` 的所有成员</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>你可以在模组中提供一个名为 <code class="docutils literal notranslate"><span class="pre">__all__</span></code> 的列表，其将属性名储存为字符串，来限制 <code class="docutils literal notranslate"><span class="pre">*</span></code> 代表的属性。也就是说，如果我们在 <code class="docutils literal notranslate"><span class="pre">my_module.py</span></code> 中包含了 <code class="docutils literal notranslate"><span class="pre">__all__</span> <span class="pre">=</span> <span class="pre">[&quot;cube&quot;,</span> <span class="pre">&quot;some_list&quot;]</span></code>，那么 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">my_module</span> <span class="pre">import</span> <span class="pre">*</span></code> 将只会导入 <code class="docutils literal notranslate"><span class="pre">cube</span></code> 和 <code class="docutils literal notranslate"><span class="pre">some_list</span></code>，而不会导入 <code class="docutils literal notranslate"><span class="pre">square</span></code>。</p>
<p>最后，我们也可以在这种风格的导入中使用代名词：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">cube</span> <span class="k">as</span> <span class="n">my_cube</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_cube</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">8</span>
</pre></div>
</div>
</div>
<div class="section" id="包">
<h2>包<a class="headerlink" href="#包" title="永久链接至标题">¶</a></h2>
<p>在大项目中工作时，你经常会想要将你的代码组织成多个模组。比如说，假设我们在编写脸部识别的软件。我们可以会需要一个摄像机模组来获取照片，一个脸部识别模组来储存能够识别人脸的类，以及一个数据库模组来储存和更新“见过的”脸。这些模组可以在一个共同的<em>包</em>（package）中。</p>
<p>Python包是一个包含名为 <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 的文件的路径，以及其它Python模组和子包（也就是说，有着属于自己的 <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 文件和有关模组的子路径）。<code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 文件有着特殊的重要性——它用来标示其所在的路径应作为包处理。作为一个例子，让我们创建一个最基础的包，其文件结构如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">你当前的Jupyter记事本进程</span><span class="o">/</span><span class="n">命令行进程</span>
<span class="o">-</span> <span class="n">a_dir</span><span class="o">/</span>
    <span class="o">|--</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>请注意，你的互动Python进程（如Jupyter记事本）应该在和 <code class="docutils literal notranslate"><span class="pre">a_dir/</span></code> 相同的路径下活跃。包含 <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 文件的路径名字就是包的名字，因此这个包的名字为 <code class="docutils literal notranslate"><span class="pre">a_dir</span></code>。假设 <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 的内容如下：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum_func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="k">def</span> <span class="nf">divide_func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>
</pre></div>
</div>
<p>和模组一样，导入这个包会执行 <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 的内容并将 <code class="docutils literal notranslate"><span class="pre">sum_func</span></code> 和 <code class="docutils literal notranslate"><span class="pre">divide_func</span></code> 提供为创建的模组对象的属性：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导入Python包</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">a_dir</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a_dir</span><span class="o">.</span><span class="n">divide_func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="mf">0.5</span>
</pre></div>
</div>
<p>让我们讨论一个更加成熟的包，其包含模组和子包。下面的包，<code class="docutils literal notranslate"><span class="pre">face_detection</span></code>，包含了模组 <code class="docutils literal notranslate"><span class="pre">utils</span></code>，<code class="docutils literal notranslate"><span class="pre">database</span></code>，和 <code class="docutils literal notranslate"><span class="pre">model</span></code>。它也包含了子包 <code class="docutils literal notranslate"><span class="pre">camera</span></code>，其包含了 <code class="docutils literal notranslate"><span class="pre">config</span></code> 模组和 <code class="docutils literal notranslate"><span class="pre">calibration</span></code> 模组。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">face_detection</span><span class="o">/</span>
    <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">database</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">model</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">camera</span><span class="o">/</span>
        <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">calibration</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">config</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>我们可以通过 <code class="docutils literal notranslate"><span class="pre">&lt;package&gt;.&lt;module&gt;</span></code>，<code class="docutils literal notranslate"><span class="pre">&lt;package&gt;.&lt;subpackage&gt;.&lt;module&gt;</span></code>，和类似的语法来访问这些模组的内容。如以下范例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 从 `database` 模组导入一个函数</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">face_detection.database</span> <span class="kn">import</span> <span class="n">load_database</span>

<span class="c1"># 导入整个 `model` 模组</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">face_detection</span> <span class="kn">import</span> <span class="n">model</span>

<span class="c1"># 从 `camera` 子包导入一个函数</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">face_detection.camera.config</span> <span class="kn">import</span> <span class="n">restore_default</span>
</pre></div>
</div>
<p>请注意，<code class="docutils literal notranslate"><span class="pre">.</span></code> 语法允许我们相对顶层包一层层深入其中的模组和子包。</p>
<div class="admonition note">
<p class="admonition-title fa fa-exclamation-circle"><strong>阅读理解：包</strong></p>
<p>假设我们在使用一个名为 <code class="docutils literal notranslate"><span class="pre">mail</span></code> 的包。路径 <code class="docutils literal notranslate"><span class="pre">mail/</span></code> 包含了一个 <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> 模组，其内容为：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">send_mail</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="n">phrase_of_the_day</span> <span class="o">=</span> <span class="s2">&quot;get that package delievered!&quot;</span>
</pre></div>
</div>
<p>它也包含了一个模组 <code class="docutils literal notranslate"><span class="pre">delivery.py</span></code>，其内容为：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_zip</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;just a dummy function&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="mi">871092</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>创建这个包。</p></li>
<li><p>导入 <code class="docutils literal notranslate"><span class="pre">send_mail</span></code> 函数。</p></li>
<li><p>导入 <code class="docutils literal notranslate"><span class="pre">delivery</span></code> 模组并执行它的 <code class="docutils literal notranslate"><span class="pre">get_zip</span></code> 函数</p></li>
</ol>
</div>
</div>
<div class="section" id="模组内导入">
<h2>模组内导入<a class="headerlink" href="#模组内导入" title="永久链接至标题">¶</a></h2>
<p>包中的模组可以互相导入；比如说，假设 <code class="docutils literal notranslate"><span class="pre">face_detection.database</span></code> 和 <code class="docutils literal notranslate"><span class="pre">face_detection.camera.calibration</span></code> 都想要使用 <code class="docutils literal notranslate"><span class="pre">face_detection.utils</span></code> 模组。请回忆本包的结构：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">face_detection</span><span class="o">/</span>
    <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">database</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">model</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">camera</span><span class="o">/</span>
        <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">calibration</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">config</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>我们有两种导入风格来进行模组之间的导入：绝对导入和相对导入。</p>
<div class="section" id="绝对导入">
<h3>绝对导入<a class="headerlink" href="#绝对导入" title="永久链接至标题">¶</a></h3>
<p>绝对导入风格允许你通过提供模组相对顶层包的绝对位置来选择模组。假设我们想要在 <code class="docutils literal notranslate"><span class="pre">model</span></code> 模组中通过绝对导入来导入 <code class="docutils literal notranslate"><span class="pre">utils</span></code> 模组，那么代码将是：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">face_detection.utils</span>
</pre></div>
</div>
<p>或，使用代名词：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">face_detection.utils</span> <span class="kn">as</span> <span class="nn">utils</span>
</pre></div>
</div>
<p>假设我们也想要在 <code class="docutils literal notranslate"><span class="pre">face_detection.camera.calibration</span></code> 中导入 <code class="docutils literal notranslate"><span class="pre">utils</span></code> 模组；绝对导入的语句和之前一样，因为 <code class="docutils literal notranslate"><span class="pre">utils</span></code> 相对顶层包的相对位置不会根据我们导入它的路径改变。</p>
<p>作为一个额外的例子，在包中任何位置导入 <code class="docutils literal notranslate"><span class="pre">camera</span></code> 的 <code class="docutils literal notranslate"><span class="pre">config</span></code> 模组的绝对导入语句如下：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">face_detection.camera.config</span>
</pre></div>
</div>
<p>绝对导入语法支持我们上方枚举的所有变化，如代名词和 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;module&gt;</span> <span class="pre">import</span> <span class="pre">&lt;object&gt;</span></code>。</p>
</div>
<div class="section" id="相对导入">
<h3>相对导入<a class="headerlink" href="#相对导入" title="永久链接至标题">¶</a></h3>
<p>相对导入使用点来表达被导入模组的相对于执行导入命令的模组的位置。比如说，假设我们想要在 <code class="docutils literal notranslate"><span class="pre">model</span></code> 模组中使用相对导入来导入 <code class="docutils literal notranslate"><span class="pre">utils</span></code> 模组：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">utils</span>
</pre></div>
</div>
<p>请注意，<code class="docutils literal notranslate"><span class="pre">.</span></code> 用来表达“当前包”。而 <code class="docutils literal notranslate"><span class="pre">..</span></code> 代表着“当前包上一级的包”。因此，从 <code class="docutils literal notranslate"><span class="pre">face_detection/camera/calibration.py</span></code> 相对导入 <code class="docutils literal notranslate"><span class="pre">utils</span></code> 会是：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">utils</span>
</pre></div>
</div>
<p>我们使用 <code class="docutils literal notranslate"><span class="pre">..</span></code> 的原因是 <code class="docutils literal notranslate"><span class="pre">utils</span></code> 并不和 <code class="docutils literal notranslate"><span class="pre">calibration.py</span></code> 在同一个包中，而在它往上一层的包中。我们也可以如此导入模组中的具体内容：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">..utils</span> <span class="kn">import</span> <span class="n">some_util_func</span>
</pre></div>
</div>
<p>相对导入风格对比绝对导入风格限制更多。它只能包含 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;module&gt;</span> <span class="pre">import</span> <span class="pre">&lt;thing1&gt;,</span> <span class="pre">&lt;thing2&gt;</span></code> 格式的导入语句。虽然它的格式有所限制，相对导入在有着复杂的嵌套子包时可能很方便。</p>
</div>
</div>
<div class="section" id="安装包">
<h2>安装包<a class="headerlink" href="#安装包" title="永久链接至标题">¶</a></h2>
<div class="section" id="PYTHONPATH和site-packages">
<h3>PYTHONPATH和site-packages<a class="headerlink" href="#PYTHONPATH和site-packages" title="永久链接至标题">¶</a></h3>
<p>到现在为止，我们的Python包阅读都确保了所有我们编写的模组和包都和我们的互动Python进程在同一个路径下。那么我们是如何能够在不知道包的位置的情况下在任何进程或模组中导入NumPy呢？这是因为我们已经安装了<em>NumPy</em>；这意味着这个包已经被放在了我们的“Python路径”中，其由 <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> 代表。</p>
<p><code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> 描述了Python在导入模组时会搜索的路径。你可以使用 <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> 来查看你的 <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 查看 `PYTHONPATH`</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span>
<span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/home/TerranceWasabi/miniconda3/bin&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/home/TerranceWasabi/miniconda3/lib/python36.zip&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/home/TerranceWasabi/miniconda3/lib/python3.6&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/home/TerranceWasabi/miniconda3/lib/python3.6/lib-dynload&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/home/TerranceWasabi/miniconda3/lib/python3.6/site-packages&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>请注意，<code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> 的第一个成员为 <code class="docutils literal notranslate"><span class="pre">''</span></code>，意味着Python直译器会在试图导入时首先查看当前路径。如果它没有找到任何满足导入语句的包或模组，那么它会检查 <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> 的下一个成员。这就是为什么我们在之前将我们的模组和包创建在和当前Python进程中一样的路径。</p>
<p>现在，请注意 <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> 的最后一个路径：“site-packages”（站点包）。<em>site-packages是所有Python包安装的默认路径</em>。我们可以在任何路径导入NumPy的原因是因为在安装时它被放入了“site-packages”中，而Python直译器将会在试图满足导入语句时检查“site-packages”。</p>
<p>如果你不想打印 <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> 的话，你可以直接检查你的“site-packages“的位置：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 检查你的site-packages</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">site</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">site</span><span class="o">.</span><span class="n">getsitepackages</span><span class="p">()</span>
<span class="p">[</span><span class="s1">&#39;/home/TerranceWasabi/miniconda3/lib/python3.6/site-packages&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>我们在这里必须指出我们其实省略了一些细节。安装NumPy并不会将它的各个模组和包完整复制到site-packages中。虽然如此，我们并不会更加细致地讨论包安装的技术性细节。你只需要知道包安装的位置以及Python直译器在导入时检查的路径就行了。</p>
</div>
<div class="section" id="安装你自己的Python包">
<h3>安装你自己的Python包<a class="headerlink" href="#安装你自己的Python包" title="永久链接至标题">¶</a></h3>
<p>假设我们对 <code class="docutils literal notranslate"><span class="pre">face_detector</span></code> 项目的工作很满意，并想要安装这个包——将其放置到我们的“site-packages”路径来允许我们无论Python直译器的工作路径都可以导入它。在这里，我们将会创建一个基础的安装脚本来允许我们达成这一点。</p>
<p>我们将直接指出，本模组的目的仅仅只是为你提供安装包的最少指令集。我们不将会讨论幕后发生的事情。请查看<a class="reference external" href="https://docs.python.org/3/distutils/introduction.html#an-introduction-to-distutils">Distutils简介</a>和<a class="reference external" href="https://packaging.python.org/tutorials/packaging-projects/#packaging-your-project">包装你的项目</a>来阅读本话题的更多细节。</p>
<p>回到我们的工作，我们将在<em>和我们包相同的路径下</em>创建一个设置脚本 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>。也就是说，我们的路径结构如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span>
<span class="o">-</span> <span class="n">face_detection</span><span class="o">/</span>
    <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">database</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">model</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">camera</span><span class="o">/</span>
        <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">calibration</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">config</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>最简单的为安装准备你的包的构建脚本 <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> 如下：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># setup.py 的内容</span>
<span class="kn">import</span> <span class="nn">setuptools</span>

<span class="n">setuptools</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;face_detection&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="n">packages</span><span class="o">=</span><span class="n">setuptools</span><span class="o">.</span><span class="n">find_packages</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>如果你阅读了以上链接的额外材料，你将会注意你可以向这个设置脚本提供更多的可选信息，如作者名字，包的安装要求，等等。</p>
<p>有了这个脚本后，我们可以在本地机器上安装我们的包了！在你的命令行中，导航到包含这个设置脚本和被安装的包的路径中。运行：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python setup.py install
</pre></div>
</div>
<p>就像这样，你的包 <code class="docutils literal notranslate"><span class="pre">face_detection</span></code> 将被安装到“site-packages”中。你现在可以从计算机的任何路径中导入这个模组。在命令行中执行以下代码来从你的机器上卸载这个包：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip uninstall face_detection
</pre></div>
</div>
<p>我们在这里提供最后一个重要细节。你的包的被安装的版本将不会“看到”它的源代码。也就是，当你对你的代码进行修改时，你将会需要首先卸载并重装你的包来使得你的修改在整个系统可见。你可以将你的包在开发（develop）模式下安装来使得程序在“site-packages”路径下创建一个指向源代码的符号链接（symbolic link）。如此，任何对源代码进行的修改都会立刻在全系统都反映出来。因此，与其运行 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>，执行以下代码来在开发模式下安装一个包：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python setup.py develop
</pre></div>
</div>
</div>
</div>
<div class="section" id="pip和conda：包管理器">
<h2>pip和conda：包管理器<a class="headerlink" href="#pip和conda：包管理器" title="永久链接至标题">¶</a></h2>
<p>你可以在在全世界共享Python包。市面上有两个常用的包管理器，<code class="docutils literal notranslate"><span class="pre">pip</span></code> 和 <code class="docutils literal notranslate"><span class="pre">conda</span></code>。<code class="docutils literal notranslate"><span class="pre">pip</span></code> 从<a class="reference external" href="https://pypi.org/">The Python Package Index (PyPI)</a>（Python包索引）下载并安装包, 而 <code class="docutils literal notranslate"><span class="pre">conda</span></code> 从Anaconda Cloud下载并安装包。<code class="docutils literal notranslate"><span class="pre">conda</span></code> 和 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 都已经作为<a class="reference external" href="http://cn.pythonlikeyoumeanit.com/Module1_GettingStartedWithPython/Installing_Python.html#Installing-Anaconda">Anaconda分布</a>的一部分被安装在你的机器上了。</p>
<p>执行以下来使用 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 安装包：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install &lt;package_name&gt;
</pre></div>
</div>
<p>执行以下来使用 <code class="docutils literal notranslate"><span class="pre">conda</span></code> 安装包：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda install &lt;package_name&gt;
</pre></div>
</div>
<p>两个管理器都会向你的“site-packages”路径安装包。</p>
<p>使用 <code class="docutils literal notranslate"><span class="pre">conda</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 来安装包有着显著的好处。首先，<code class="docutils literal notranslate"><span class="pre">conda</span></code> 有着一个强大的“环境计算器”来记录Python包之间的互相依赖性。因此，它会试图按需安装，升级，并降级包来满足你安装的需求。同时，<code class="docutils literal notranslate"><span class="pre">conda</span></code> 默认提供的包列表由Continuum Analytics，也就是Anaconda的创造者，提供并维持。这样做的好处之一在于，通过 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 安装NumPy会为你提供标准的NumPy版本，而 <code class="docutils literal notranslate"><span class="pre">conda</span></code>
将会安装<a class="reference external" href="https://software.intel.com/en-us/articles/numpyscipy-with-intel-mkl">mkl优化过的NumPy版本</a>，其执行速度快很多。最后，<code class="docutils literal notranslate"><span class="pre">conda</span></code> 也能作为一个<a class="reference external" href="https://conda.io/docs/user-guide/tasks/manage-environments.html">环境管理器</a>，其支持你维持多个，互相不冲突的环境来储存不同的Python包安装情况以及甚至不同的Python版本。</p>
<p>话说如此，使用 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 也是有一些好处的。PyPi易用也容易上传包；这很可能是向全世界分布Python包最简单的方法。因此，<code class="docutils literal notranslate"><span class="pre">pip</span></code> 提供了更广阔的包选择。但是，你也可以使用 <code class="docutils literal notranslate"><span class="pre">conda</span></code> 来从自定义频道安装包——如此为你提供Anaconda分布的包列表之外的包。这已经成为了一个流行的安装如PyTorch和TensorFlow的机器学习库的方法。</p>
<p>你可以使用 <code class="docutils literal notranslate"><span class="pre">conda</span></code> 来安装一部分包，而用 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 来安装其它包。唯一需要注意的是不要不小心使用两个管理器安装相同的包——这会搞出大麻烦。</p>
</div>
<div class="section" id="官方说明文档链接">
<h2>官方说明文档链接<a class="headerlink" href="#官方说明文档链接" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/tutorial/modules.html">Python教程：模组</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/distutils/introduction.html#an-introduction-to-distutils">Distutils简介</a></p></li>
<li><p><a class="reference external" href="https://packaging.python.org/tutorials/packaging-projects/#packaging-your-project">包装你的项目</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/">PyPi</a></p></li>
</ul>
</div>
<div class="section" id="阅读理解答案">
<h2>阅读理解答案<a class="headerlink" href="#阅读理解答案" title="永久链接至标题">¶</a></h2>
<p><strong>创建简单模组：解</strong></p>
<p>创建一个名为 <code class="docutils literal notranslate"><span class="pre">basic_math.py</span></code> 的简单数学模组。它应该提供无理数 <span class="math notranslate nohighlight">\(\pi\)</span> 和 <span class="math notranslate nohighlight">\(e\)</span>，以及函数 <code class="docutils literal notranslate"><span class="pre">deg_to_rad</span></code>，其将角度数转化成弧度数。</p>
<p><code class="docutils literal notranslate"><span class="pre">basic_math.py</span></code> 的内容应为：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;基本的数学常量和函数&quot;&quot;&quot;</span>

<span class="n">pi</span> <span class="o">=</span> <span class="mf">3.141592653589793</span>
<span class="n">e</span> <span class="o">=</span> <span class="mf">2.718281828459045</span>

<span class="k">def</span> <span class="nf">deg_to_rad</span><span class="p">(</span><span class="n">angle</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> <span class="n">angle</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">basic_math</span>

<span class="go"># Euler公式：e**(i * pi) = -1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">basic_math</span><span class="o">.</span><span class="n">e</span> <span class="o">**</span> <span class="p">(</span><span class="n">basic_math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="go">(-1+1.2246467991473532e-16j)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">basic_math</span><span class="o">.</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
<span class="go">0.7853981633974483</span>
</pre></div>
</div>
<p><strong>包：解</strong></p>
<ol class="arabic simple">
<li><p>创建这个包。</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mail</span><span class="o">/</span>
    <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="n">delivery</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>导入 <code class="docutils literal notranslate"><span class="pre">send_mail</span></code> 函数</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mail</span> <span class="kn">import</span> <span class="n">send_mail</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>导入 <code class="docutils literal notranslate"><span class="pre">delivery</span></code> 模组并执行它的 <code class="docutils literal notranslate"><span class="pre">get-zip</span></code> 函数</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mail</span> <span class="kn">import</span> <span class="n">delivery</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delivery</span><span class="o">.</span><span class="n">get_zip</span><span class="p">()</span>
<span class="go">871092</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="WorkingWithFiles.html" class="btn btn-neutral float-left" title="操作文件" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ryan Soklaski

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>